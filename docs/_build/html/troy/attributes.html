

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Attributes &mdash; Troy 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Troy 0.1 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">Troy 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="attributes">
<h1>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="troy.Attributes">
<em class="property">class </em><tt class="descclassname">troy.</tt><tt class="descname">Attributes</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#troy.Attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute Interface Class</p>
<p>The Attributes interface implements the attribute semantics of the SAGA Core
API specification (<a class="reference external" href="http://ogf.org/documents/GFD.90.pdf">http://ogf.org/documents/GFD.90.pdf</a>).  Additionally, this
implementation provides that semantics via two different interfaces: the
python dictionary interface, and the python property interface.  Note that
a <em>simgle</em> set of attributes is internally managed, no matter what interface
is used for access.</p>
<p>A class which uses this interface can internally specify which attributes
can be set, and what type they have.  Also, default values can be specified,
and the class provides a rudimentary support for converting scalar
attributes into vector attributes and back.</p>
<p>Also, the consumer of this API can register callbacks, which get triggered
on changes to specific attribute values.</p>
<p>Example use case:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">###########################################</span>
<span class="k">class</span> <span class="nc">Transliterator</span> <span class="p">(</span> <span class="n">pilot</span><span class="o">.</span><span class="n">Attributes</span> <span class="p">)</span> <span class="p">:</span>
    
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="p">:</span>
      <span class="c"># setting attribs to non-extensible will cause the cal to init below to</span>
      <span class="c"># complain if attributes are specified.  Default is extensible.</span>
      <span class="c"># self.attributes_extensible_ (False)</span>

        <span class="c"># pass args to base class init (requires &#39;extensible&#39;)</span>
        <span class="nb">super</span> <span class="p">(</span><span class="n">Transliterator</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span> <span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c"># setup class attribs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes_register_</span>   <span class="p">(</span><span class="s">&#39;apple&#39;</span><span class="p">,</span> <span class="s">&#39;Appel&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Url</span><span class="p">,</span>    <span class="bp">self</span><span class="o">.</span><span class="n">Scalar</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Writable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attributes_register_</span>   <span class="p">(</span><span class="s">&#39;plum&#39;</span><span class="p">,</span>  <span class="s">&#39;Pruim&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">String</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Scalar</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ReadOnly</span><span class="p">)</span>

      <span class="c"># setting attribs to non-extensible at *this* point will have allowed</span>
      <span class="c"># custom user attribs on __init__ time (via args), but will then forbid</span>
        <span class="c"># any additional custom attributes.</span>
      <span class="c"># self.attributes_extensible_ (False)</span>


<span class="c">###########################################</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="c"># define a callback method.  This callback can get registered for</span>
    <span class="c"># attribute changes later.</span>

    <span class="c">#################################</span>
    <span class="k">def</span> <span class="nf">cb</span> <span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="p">:</span>
        <span class="c"># the callback gets information about what attribute was changed</span>
        <span class="c"># on what object:</span>
        <span class="k">print</span> <span class="s">&quot;called: </span><span class="si">%s</span><span class="s"> - </span><span class="si">%s</span><span class="s"> - </span><span class="si">%s</span><span class="s">&quot;</span>  <span class="o">%</span>  <span class="p">(</span><span class="nb">type</span> <span class="p">(</span><span class="n">obj</span><span class="p">),</span> <span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>

        <span class="c"># returning True will keep the callback registered for further</span>
        <span class="c"># attribute changes.</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c">#################################</span>

    <span class="c"># create a class instance and add a &#39;cherry&#39; attribute/value on</span>
    <span class="c"># creation.  </span>
    <span class="n">trans</span> <span class="o">=</span> <span class="n">Transliterator</span> <span class="p">(</span><span class="n">cherry</span><span class="o">=</span><span class="s">&#39;Kersche&#39;</span><span class="p">)</span>

    <span class="c"># use the property and the dict interface to mess with the pre-defined</span>
    <span class="c"># &#39;apple&#39; attribute</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s"> -- apple&quot;</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">apple</span> 
    <span class="k">print</span> <span class="n">trans</span><span class="p">[</span><span class="s">&#39;apple&#39;</span><span class="p">]</span>
    <span class="n">trans</span><span class="o">.</span><span class="n">apple</span> <span class="o">=</span> <span class="s">&#39;Abbel&#39;</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">apple</span> 

    <span class="c"># add our callback to the apple attribute, and trigger some changes.</span>
    <span class="c"># Note that the callback is also triggered when the attribute&#39;s</span>
    <span class="c"># value changes w/o user control, e.g. by some internal state</span>
    <span class="c"># changes.</span>
    <span class="n">trans</span><span class="o">.</span><span class="n">add_callback</span> <span class="p">(</span><span class="s">&#39;apple&#39;</span><span class="p">,</span> <span class="n">cb</span><span class="p">)</span>
    <span class="n">trans</span><span class="o">.</span><span class="n">apple</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Abbel&#39;</span><span class="p">,</span> <span class="s">&#39;Appel&#39;</span><span class="p">]</span>
    <span class="n">trans</span><span class="o">.</span><span class="n">apple</span> <span class="o">=</span> <span class="s">&#39;Apfel&#39;</span>

    <span class="c"># Setting an attribute final is actually an internal method, used by</span>
    <span class="c"># the implementation to signal that no further changes on that</span>
    <span class="c"># attribute are expected.  We use that here for demonstrating the</span>
    <span class="c"># concept though.  Callback is invoked on set_final_.</span>
    <span class="n">trans</span><span class="o">.</span><span class="n">attributes_set_final_</span> <span class="p">(</span><span class="s">&#39;apple&#39;</span><span class="p">)</span>
    <span class="n">trans</span><span class="o">.</span><span class="n">apple</span> <span class="o">=</span> <span class="s">&#39;Abbel&#39;</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">apple</span> 

    <span class="c"># mess around with the &#39;plum&#39; attribute, which was marked as</span>
    <span class="c"># ReadOnly on registration time.</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s"> -- plum&quot;</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">plum</span>
  <span class="c"># trans.plum    = &#39;Pflaume&#39;  # raises readonly exception</span>
  <span class="c"># trans[&#39;plum&#39;] = &#39;Pflaume&#39;  # raises readonly exception</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">plum</span>

    <span class="c"># check if the &#39;cherry&#39; attribute exists, which got created on</span>
    <span class="c"># instantiation time.</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s"> -- cherry&quot;</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">cherry</span>

    <span class="c"># as we have &#39;extensible&#39; set, we can add a attribute on the fly,</span>
    <span class="c"># via either the property or the dict interface, or via the GFD.90</span>
    <span class="c"># API of course.</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s"> -- peach&quot;</span>
    <span class="n">trans</span><span class="p">[</span><span class="s">&#39;peach&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;Berne&#39;</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">peach</span>
    <span class="n">trans</span><span class="o">.</span><span class="n">peach</span> <span class="o">=</span> <span class="s">&#39;Birne&#39;</span>
    <span class="k">print</span> <span class="n">trans</span><span class="o">.</span><span class="n">peach</span>
</pre></div>
</div>
<p>This example will result in:</p>
<div class="highlight-python"><pre> -- apple
Appel
Appel
Abbel
called: apple - Abbel Appel  - &lt;class '__main__.Transliterator'&gt;
called: apple - Apfel - &lt;class '__main__.Transliterator'&gt;
called: apple - Apfel - &lt;class '__main__.Transliterator'&gt;
Apfel

 -- plum
Pruim
Pruim

 -- cherry
Kersche

 -- peach
Berne
Birne</pre>
</div>
<p>Note that using this interface <em>and</em> inheriting from Python&#8217;s dict object
(or any other base classes which define / overload dictionary setters and
getters) is probably a bad idea.</p>
<dl class="method">
<dt id="troy.Attributes.add_callback">
<tt class="descname">add_callback</tt><big>(</big><em>key</em>, <em>cb</em><big>)</big><a class="headerlink" href="#troy.Attributes.add_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>For any attribute change, the API will check if any callbacks are
registered for that attribute.  If so, those callbacks will be called
in order of registration.  This registration function will return an
id (cookie) identifying the callback &#8211; that id can be used to
remove the callback.</p>
<p>A callback is any callable python construct, and MUST accept three
arguments:</p>
<div class="highlight-python"><pre>- String key: the name of the attribute which changed
- Any    val: the new value of the attribute
- Any    obj: the object on which this attribute interface was called</pre>
</div>
<p>The &#8216;obj&#8217; can be any python object type, but is guaranteed to expose
this attribute interface.</p>
<p>The callback SHOULD return &#8216;True&#8217; or &#8216;False&#8217; &#8211; on &#8216;True&#8217;, the callback
will remain registered, and will thus be called again on the next
attribute change.  On returning &#8216;False&#8217;, the callback will be
unregistered, and will thus not be called again.  Returning nothing is
interpreted as &#8216;False&#8217;, other return values lead to undefined behavior.</p>
<p>Note that callbacks will not be called on &#8216;Final&#8217; attributes (they will
be called once as that attribute enters finality).</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attribute_exists">
<tt class="descname">attribute_exists</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attribute_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>attribute_exist (key)</p>
<p>This method will check if the given key is known and was set explicitly.
The call will also return &#8216;True&#8217; if the value for that key is &#8216;None&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attribute_is_readonly">
<tt class="descname">attribute_is_readonly</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attribute_is_readonly" title="Permalink to this definition">¶</a></dt>
<dd><p>This method will check if the given key is readonly, i.e. cannot be
&#8216;set&#8217;.  The call will also return &#8216;True&#8217; if the attribute is final</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attribute_is_removable">
<tt class="descname">attribute_is_removable</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attribute_is_removable" title="Permalink to this definition">¶</a></dt>
<dd><p>attribute_is_writable (key)</p>
<p>This method will check if the given key can be removed.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attribute_is_vector">
<tt class="descname">attribute_is_vector</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attribute_is_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>This method will check if the given attribute has a vector value type.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attribute_is_writable">
<tt class="descname">attribute_is_writable</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attribute_is_writable" title="Permalink to this definition">¶</a></dt>
<dd><p>This method will check if the given key is writable - i.e. not readonly.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_add_check_">
<tt class="descname">attributes_add_check_</tt><big>(</big><em>key</em>, <em>check</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_add_check_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Value checks can be added dynamically, and per attribute.  &#8216;callable&#8217;
needs to be a python callable, and will be invoked as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">callable</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
<p>Those checks will be invoked whenever a new attribute value is set.  If
that call then returns &#8216;True&#8217;, the value is accepted.  Otherwise, the
value will be considered to be invalid, which results in an exception as
per above.  &#8216;callable&#8217; can return a string as error message.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_camelcasing_">
<tt class="descname">attributes_camelcasing_</tt><big>(</big><em>c=True</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_camelcasing_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Use &#8216;CamelCase&#8217; for dict entries and the GFD.90 API, but &#8216;under_score&#8217;
for properties.</p>
<p>Note that we do not provide an option to turn CamelCasing off - once it
is turned on, it stays on &#8211; otherwise we would loose attributes...</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_deep_copy_">
<tt class="descname">attributes_deep_copy_</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_deep_copy_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>This method can be used to make sure that deep copies of derived classes
are also deep copies of the respective attributes.  In accordance with
GFD.90, the deep copy will ignore callbacks.  It will copy checks
though, as the assumption is that value constraints stay valid.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_dump_">
<tt class="descname">attributes_dump_</tt><big>(</big><em>msg=None</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_dump_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Debugging dump to stdout.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_extensible_">
<tt class="descname">attributes_extensible_</tt><big>(</big><em>e=True</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_extensible_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Allow (or forbid) the on-the-fly creation of new attributes.  Note that
this method also allows to <em>remove</em> the extensible flag &#8211; that leaves
any previously created extended attributes untouched, but just prevents
the creation of new extended attributes.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_add_cb_">
<tt class="descname">attributes_i_add_cb_</tt><big>(</big><em>key</em>, <em>cb</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_add_cb_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">add_callback()</span></tt> (key, cb) for details.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_del_cb_">
<tt class="descname">attributes_i_del_cb_</tt><big>(</big><em>key</em>, <em>id=None</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_del_cb_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">remove_callback()</span></tt> (key, cb) for details.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_exists_">
<tt class="descname">attributes_i_exists_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_exists_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">attribute_exists()</span></tt> (key) for details.</p>
<p>Registered keys which have never been explicitly set to a value do not
exist for the purpose of this call.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_find_">
<tt class="descname">attributes_i_find_</tt><big>(</big><em>pattern</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_find_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">find_attributes()</span></tt> (pattern) for details.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_get_">
<tt class="descname">attributes_i_get_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_get_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">get_attribute()</span></tt> (key) for details.</p>
<p>Note that this method is not performing any checks or conversions &#8211;
those are all performed when <em>setting</em> an attribute.  So, any attribute
flags (type, mode, flavor) are evaluated on setting, not on getting.
This implementation does not account for resulting race conditions
(changing attribute types after setting for example) &#8211; but the public
API does not allow that anyway.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_is_extended_">
<tt class="descname">attributes_i_is_extended_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_is_extended_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>This method will check if the given key is extended, i.e. was registered
on the fly, vs. registered explicitly.</p>
<p>This method is not used by, and not exposed via the public API, yet.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_is_final_">
<tt class="descname">attributes_i_is_final_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_is_final_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>This method will query the &#8216;final&#8217; flag for an attribute, which signals
that the attribute will never change again.</p>
<p>This method is not used by, and not exposed via the public API, yet.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_is_readonly_">
<tt class="descname">attributes_i_is_readonly_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_is_readonly_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">attribute_is_readonly()</span></tt> (key) for details.</p>
<p>This method will check if the given key is readonly, i.e. cannot be
&#8216;set&#8217;.  The call will also return &#8216;True&#8217; if the attribute is final</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_is_removable_">
<tt class="descname">attributes_i_is_removable_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_is_removable_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">attribute_is_removable()</span></tt> (key) for details.</p>
<p>&#8216;True&#8217; if the attrib is Writable and Extended.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_is_vector_">
<tt class="descname">attributes_i_is_vector_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_is_vector_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">attribute_is_vector()</span></tt> (key) for details.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_is_writable_">
<tt class="descname">attributes_i_is_writable_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_is_writable_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">attribute_is_writable()</span></tt> (key) for details.</p>
<p>This method will check if the given key is writable - i.e. not readonly.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_list_">
<tt class="descname">attributes_i_list_</tt><big>(</big><em>ext=True</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_list_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>see <tt class="xref py py-func docutils literal"><span class="pre">list_attributes()</span></tt> () for details.</p>
<p>Note that registration alone does not qualify for listing.  If &#8216;ext&#8217; is
True (default),extended attributes are listed, too.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_i_set_">
<tt class="descname">attributes_i_set_</tt><big>(</big><em>key</em>, <em>val=None</em>, <em>force=False</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_i_set_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal method should not be explicitly called by consumers of
this API, but is indirectly used via the different public interfaces.</p>
<p>See <tt class="xref py py-func docutils literal"><span class="pre">set_attribute()</span></tt> (key, val) for details.</p>
<p>New value checks can be added dynamically, and per attribute, by calling
<tt class="xref py py-func docutils literal"><span class="pre">attributes_add_check_()</span></tt> (key, callable).</p>
<p>Some internal methods can set the &#8216;force&#8217; flag, and will be able to set
attributes even in ReadOnly mode.  That is, for example, used for getter
hooks.  Note that the Final flag will be honored even if Force is set,
and will result in the set request being ignored.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_register_">
<tt class="descname">attributes_register_</tt><big>(</big><em>key</em>, <em>default=None</em>, <em>typ='any'</em>, <em>flavor='scalar'</em>, <em>mode='writable'</em>, <em>ext=False</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_register_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Register a new attribute.</p>
<p>This function ignores extensible, final and readonly flags.  It can also
be used to re-register an existing attribute with new properties &#8211; the
old attribute value, callbacks etc. will be lost though.  Using this
call that way may result in confusing behaviour on the public API level.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_register_deprecated_">
<tt class="descname">attributes_register_deprecated_</tt><big>(</big><em>key</em>, <em>alias</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_register_deprecated_" title="Permalink to this definition">¶</a></dt>
<dd><p>Often enough, there is the need to use change attribute names.  It is
good practice to not simply rename attributes, and thus effectively
remove old ones, as that is likely to break existing code.  Instead, new
names are added, and old names are kept for a certain time for backward
compatibility.  To support migration to the new names, the old names
should be marked as &#8216;deprecated&#8217; though - which can be configured to
print a warning whenever an old, deprecated attribute is used.</p>
<p>This method allows to register such deprecated attribute names.  They
can thus be used just like new ones, and in fact are implemented as
aliases to the new ones &#8211; but they will print a deprecated warning on
usage.</p>
<p>The first parameter is the old name of the attribute, the second
parameter is the aliased new name.  Note that the new name needs to be
registered before (via <tt class="xref py py-class docutils literal"><span class="pre">troy.attributes_register_</span></tt>):</p>
<div class="highlight-python"><pre># old code:
self.attributes_register_ ('apple', 'Appel', self.String, self.Scalar, self.Writable)

# new code
self.attributes_register_ ('fruit', 'Appel', self.String, self.Scalar, self.Writable)
self.attributes_register_deprecated_ ('apple', 'fruit)</pre>
</div>
<p>In some cases, you may want to deprecate a variable and not replace it
with a new one.  In order to keep this interface simple, this can be
achieved via:</p>
<div class="highlight-python"><pre># new code
self.attributes_register_ ('deprecated_apple', 'Appel', self.String, self.Scalar, self.Writable)
self.attributes_register_deprecated_ ('apple', 'deprecated_apple)</pre>
</div>
<p>This way, the user will either see a warning, or has to explicitly use
&#8216;deprecated_apple&#8217; as attribute name &#8211; which should be warning enough,
at least for the programmer ;o)</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_remove_">
<tt class="descname">attributes_remove_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_remove_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Remove an extended an attribute.</p>
<p>This function allows to safely remove any attribute which is &#8216;extended&#8217;
and has write permissions.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_set_enums_">
<tt class="descname">attributes_set_enums_</tt><big>(</big><em>key</em>, <em>enums=None</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_set_enums_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Specifies the set of allowed values for Enum typed attributes.  If not
set, or if list is None, any values are allowed.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_set_final_">
<tt class="descname">attributes_set_final_</tt><big>(</big><em>key</em>, <em>val=None</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_set_final_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>This method will set the &#8216;final&#8217; flag for an attribute, signalling that
the attribute will never change again.  The ReadOnly flag is ignored.
A final value can optionally be provided &#8211; otherwise the attribute is
frozen with its current value.</p>
<p>Note that attributes_set_final() will trigger callbacks, even if the
value was not set, or did not change.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_set_getter_">
<tt class="descname">attributes_set_getter_</tt><big>(</big><em>key</em>, <em>getter</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_set_getter_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>The Attribute API makes no assumptions on how attribute values are kept
up-to-date.  In general, it expects an asynchronous thread to set
attribute values as needed.  To keep the complexity low for backend
developers, it also supports the registration of &#8216;setter&#8217; and &#8216;getter&#8217;
hooks.  Those are very similar to callbacks, but kind of inversed: where
frontend callbacks are invoked on backend attribute changes, backend
hooks are invoked on frontend attribute queries.  They are expected to
internally trigger state updates.</p>
<p>For example, on:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">c</span><span class="o">.</span><span class="n">attrib</span>
</pre></div>
</div>
<p>The attribute getter for the &#8216;attrib&#8217; attribute will be invoked.  If for
that attribute a getter hook is registered, that hook will first query
the backend for value updates.  After that update has been performed,
the getter will retrieve the (updated) value.</p>
<p>Similarly, setter hooks will be invoked <em>after</em> the attribute setter
method, to inform the implementation of the updated attribute value.</p>
<p>Further, list hooks are invoked before a list or find operation is
really internally executed, to allow the implementation to updated the
list of available attributes.</p>
<p>Note that only one setter/getter method can be registered per key, and
one listers per class instance.  Additionally, one setter and one getter
can be registered for the key &#8216;None&#8217;, which will invoked for every
attribute r/w access.</p>
<p>Hooks have a different call signature than callbacks:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">setter</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="n">getter</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
<span class="n">lister</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>As with callbacks, hooks will remain registered as long as they return
&#8216;True&#8217;.</p>
<p>Note that frequent setter, and even more list and getter calls are very
common &#8211; the implementation of hooks should consider to cache the
respective values.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_set_lister_">
<tt class="descname">attributes_set_lister_</tt><big>(</big><em>key</em>, <em>lister</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_set_lister_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>See documentation of :class:<a href="#id1"><span class="problematic" id="id2">`</span></a><a href="#id5"><span class="problematic" id="id6">troy.attributes_set_setter_</span></a> ` for details.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_set_setter_">
<tt class="descname">attributes_set_setter_</tt><big>(</big><em>key</em>, <em>setter</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_set_setter_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>See documentation of :class:<a href="#id3"><span class="problematic" id="id4">`</span></a><a href="#id7"><span class="problematic" id="id8">troy.attributes_set_setter_</span></a> ` for details.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_call_cb_">
<tt class="descname">attributes_t_call_cb_</tt><big>(</big><em>key</em>, <em>val</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_call_cb_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>It triggers the invocation of all callbacks for a given attribute.
Callbacks returning False (or nothing at all) will be unregistered after
their invocation.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_call_getter_">
<tt class="descname">attributes_t_call_getter_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_call_getter_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>It triggers the getter callbacks, to signal that the attribute value
is about to be accesses and should be updated as needed.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_call_lister_">
<tt class="descname">attributes_t_call_lister_</tt><big>(</big><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_call_lister_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>It triggers the lister callback, to signal that the attribute list
is about to be accesses and should be updated as needed.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_call_setter_">
<tt class="descname">attributes_t_call_setter_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_call_setter_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>It triggers the setter callbacks, to signal that the attribute value
has just been set and should be propagated as needed.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_conversion_">
<tt class="descname">attributes_t_conversion_</tt><big>(</big><em>key</em>, <em>val</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_conversion_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>The method checks a given attribute value against the attribute&#8217;s
flags, and performs some simple type conversion as needed.  Also, the
method will restore a &#8216;None&#8217; value to the attribute&#8217;s default value.</p>
<p>A deriving class can add additional value checks for attributes by
calling <tt class="xref py py-func docutils literal"><span class="pre">attributes_add_check_()</span></tt> (key, check).</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_conversion_flavor_">
<tt class="descname">attributes_t_conversion_flavor_</tt><big>(</big><em>key</em>, <em>val</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_conversion_flavor_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.
This method should ONLY be called by <a href="#id9"><span class="problematic" id="id10">attributes_t_conversion_</span></a>!</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_conversion_type_">
<tt class="descname">attributes_t_conversion_type_</tt><big>(</big><em>key</em>, <em>val</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_conversion_type_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.
This method should ONLY be called by <a href="#id11"><span class="problematic" id="id12">attributes_t_conversion_</span></a>!</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_init_">
<tt class="descname">attributes_t_init_</tt><big>(</big><em>key=None</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_init_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>The <a href="#id13"><span class="problematic" id="id14">attributes_t_init_</span></a> method initializes the interface&#8217;s internal data
structures.  We always need the attribute dict, and the extensible flag.
Everything else can be added on the fly.  The method will not overwrite
any settings &#8211; initialization occurs only once!</p>
<p>If a key is given, the existence of this key is checked.  An exception
is raised if the key does not exist.</p>
<p>The internal data are stored as property on the <a href="#id15"><span class="problematic" id="id16">AttributesBase_</span></a> class.
Storing them as property on <em>this</em> class would obviously result in
recursion...</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_keycheck_">
<tt class="descname">attributes_t_keycheck_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_keycheck_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>For the given key, check if the key name is valid, and/or if it is
aliased.</p>
<p>If the does not yet exist, the validity check is performed, and allows
to limit dynamically added attribute names (for &#8216;extensible&#8217; sets).</p>
<p>if the key does exist, the alias check triggers a deprecation warning,
and returns the aliased key for transparent operation.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_underscore_">
<tt class="descname">attributes_t_underscore_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_underscore_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>The method accepts a CamelCased word, and translates that into
&#8216;under_score&#8217; notation &#8211; IFF &#8216;camelcasing&#8217; is set</p>
<p>Kudos: <a class="reference external" href="http://stackoverflow.com/questions/1175208/elegant-python-function-to-convert-camelcase-to-camel-case">http://stackoverflow.com/questions/1175208/elegant-python-function-to-convert-camelcase-to-camel-case</a></p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_t_wildcard2regex_">
<tt class="descname">attributes_t_wildcard2regex_</tt><big>(</big><em>pattern</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_t_wildcard2regex_" title="Permalink to this definition">¶</a></dt>
<dd><p>This internal function is not to be used by the consumer of this API.</p>
<p>This method converts a string containing POSIX shell wildcards into
a regular expression with the same matching properties:</p>
<div class="highlight-python"><pre>*       -&gt; .*
?       -&gt; .
{a,b,c} -&gt; (a|b|c)
[abc]   -&gt; [abc]   
[!abc]  -&gt; [^abc]   </pre>
</div>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.attributes_unregister_">
<tt class="descname">attributes_unregister_</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.attributes_unregister_" title="Permalink to this definition">¶</a></dt>
<dd><p>This interface method is not part of the public consumer API, but can
safely be called from within derived classes.</p>
<p>Unregister an attribute.</p>
<p>This function ignores the extensible, final and readonly flag, and is
supposed to be used by derived classes, not by the consumer of the API.</p>
<p>Note that unregistering is different from setting the value to &#8216;None&#8217; &#8211;
all meta information about the attribute will be removed.  Further
attempts to access the attribute from the public API will result in an
DoesNotExist exception.  This method should be used sparingly &#8211; in
fact, GFD.90 requires final attributes to stay around forever (frozen).</p>
</dd></dl>

<dl class="attribute">
<dt id="troy.Attributes.camel_case_regex_1_">
<tt class="descname">camel_case_regex_1_</tt><em class="property"> = &lt;_sre.SRE_Pattern object at 0x343f108&gt;</em><a class="headerlink" href="#troy.Attributes.camel_case_regex_1_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="troy.Attributes.camel_case_regex_2_">
<tt class="descname">camel_case_regex_2_</tt><em class="property"> = &lt;_sre.SRE_Pattern object at 0x31d3850&gt;</em><a class="headerlink" href="#troy.Attributes.camel_case_regex_2_" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="troy.Attributes.find_attributes">
<tt class="descname">find_attributes</tt><big>(</big><em>pattern</em><big>)</big><a class="headerlink" href="#troy.Attributes.find_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to list(), but also grep for a given attribute pattern.  That
pattern is of the form &#8216;key=val&#8217;, where both &#8216;key&#8217; and &#8216;val&#8217; can contain
POSIX shell wildcards.  For non-string typed attributes, the pattern is
applied to a string serialization of the typed value, if that exists.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.get_attribute">
<tt class="descname">get_attribute</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.get_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the value of the specified attribute.  If that
attribute does not exist, an DoesNotExist is raised.  It is not an
error to query an existing, but unset attribute though &#8211; that will
result in &#8216;None&#8217; to be returned (or the default value, if available).</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.get_vector_attribute">
<tt class="descname">get_vector_attribute</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.get_vector_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>See also: <tt class="xref py py-func docutils literal"><span class="pre">get_attribute()</span></tt> (key).</p>
<p>As python can handle scalar and vector types transparently, this method
is in fact not very useful.  For that reason, it maps internally to the
get_attribute method.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.iterkeys">
<tt class="descname">iterkeys</tt><big>(</big><big>)</big><a class="headerlink" href="#troy.Attributes.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>see <tt class="xref py py-func docutils literal"><span class="pre">list_attributes()</span></tt> () for details.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.list_attributes">
<tt class="descname">list_attributes</tt><big>(</big><big>)</big><a class="headerlink" href="#troy.Attributes.list_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>List all attributes which have been explicitly set.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.remove_attribute">
<tt class="descname">remove_attribute</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#troy.Attributes.remove_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Removing an attribute is actually different from unsetting it, or from
setting it to &#8216;None&#8217;.  On remove, all traces of the attribute are
purged, and the key will not be listed on <tt class="xref py py-func docutils literal"><span class="pre">list_attributes()</span></tt> () anymore.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.remove_callback">
<tt class="descname">remove_callback</tt><big>(</big><em>key</em>, <em>id</em><big>)</big><a class="headerlink" href="#troy.Attributes.remove_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>This method allows to unregister a previously registered callback, by
providing its id.  It is not an error to remove a non-existing cb, but
a valid ID MUST be provided &#8211; otherwise, a BadParameter is raised.</p>
<p>If no ID is provided (id == None), all callbacks are removed for this
attribute.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.set_attribute">
<tt class="descname">set_attribute</tt><big>(</big><em>key</em>, <em>val</em><big>)</big><a class="headerlink" href="#troy.Attributes.set_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets the value of the specified attribute.  If that
attribute does not exist, DoesNotExist is raised &#8211; unless the attribute
set is marked &#8216;extensible&#8217;.  In that case, the attribute is created and
set on the fly (defaulting to mode=Writable, flavor=Scalar, type=Any,
default=None).  A value of &#8216;None&#8217; may reset the attribute to its default
value, if such one exists (see documentation).</p>
<p>Note that this method is performing a number of checks and conversions,
to match the value type to the attribute properties (type, mode, flavor).
Those conversions are not guaranteed to yield the expected result &#8211; for
example, the conversion from &#8216;scalar&#8217; to &#8216;vector&#8217; is, for complex types,
ambiguous at best, and somewhat stupid.  The consumer of the API SHOULD
ensure correct attribute values.  The conversions are intended to
support the most trivial and simple use cases (int to string etc).
Failed conversions will result in an BadParameter exception.</p>
<p>Attempts to set a &#8216;final&#8217; attribute are silently ignored.  Attempts to
set a &#8216;readonly&#8217; attribute will result in an IncorrectState exception
being raised.</p>
<p>Note that attributes_i_set_() will trigger callbacks, if a new value
(different from the old value) is given.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.set_vector_attribute">
<tt class="descname">set_vector_attribute</tt><big>(</big><em>key</em>, <em>val</em><big>)</big><a class="headerlink" href="#troy.Attributes.set_vector_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>See also: <tt class="xref py py-func docutils literal"><span class="pre">set_attribute()</span></tt> (key, val).</p>
<p>As python can handle scalar and vector types transparently, this method
is in fact not very useful.  For that reason, it maps internally to the
set_attribute method.</p>
</dd></dl>

<dl class="method">
<dt id="troy.Attributes.update">
<tt class="descname">update</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#troy.Attributes.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize attributes from a dictionary or named parameters</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/troy/attributes.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">Troy 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Andre Merzky.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>